<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Work Journal / Stand-up</title>

  <!-- Shared styles -->
  <link rel="stylesheet" href="/css/global.css" />
  <link rel="stylesheet" href="/css/dashboard-global.css" />
  <!-- Page-specific -->
  <link rel="stylesheet" href="/student-journal.css" />
</head>

<body class="dashboard-page">

  <!-- Sidebar Navigation (uses existing dashboard-global.css) -->
  <header class="sidebar" role="navigation" aria-label="Primary navigation">
    <div class="sidebar-logo">
      <img src="/assets/temp-logo.png" alt="Conductor logo">
    </div>
    <h1 class="sidebar-title">Conductor</h1>
    
    <div class="main-menu-header">Main Menu</div>
    <nav aria-label="Dashboard navigation" id="sidebarNav"></nav>
    
    <footer style="margin-top: auto; border-top: 1px solid var(--gray-200); padding-top: 1rem;">
      <a href="/logout" class="btn btn-ghost" style="font-size: 0.9rem; padding: 0.5rem;">Sign out</a>
    </footer>
  </header>

  <!-- Scrollable center column -->
  <main class="wj-main" aria-labelledby="page-title">
    <header class="wj-page-header">
      <h1 id="page-title">Work Journal/Stand-up</h1>
    </header>

    <!-- Logging Activity -->
    <section class="wj-card" aria-label="Logging activity">
      <h2 class="wj-section-title">Logging Activity:</h2>

      <form class="wj-form" id="journalForm" onsubmit="event.preventDefault(); submitJournal();">
        <fieldset class="wj-fieldset">
          <legend class="wj-legend">
            What have you done since yesterday?
          </legend>
          <textarea
            id="done"
            name="done_since_yesterday"
            rows="3"
            aria-describedby="done-since-help"
            placeholder="Describe what you've accomplished..."
          ></textarea>
          <p id="done-since-help" class="wj-help-text">
            Summarize the work you completed since your last check-in.
          </p>
        </fieldset>

        <fieldset class="wj-fieldset">
          <legend class="wj-legend">
            What will you work on today?
          </legend>
          <textarea
            id="today"
            name="working_on"
            rows="3"
            placeholder="Outline your plans for today..."
          ></textarea>
        </fieldset>

        <fieldset class="wj-fieldset">
          <legend class="wj-legend">
            Any blockers?
          </legend>
          <textarea
            id="blockers"
            name="blockers"
            rows="3"
            placeholder="Are there any obstacles in your way?"
          ></textarea>
        </fieldset>

        <fieldset class="wj-fieldset">
          <legend class="wj-legend">
            How are you feeling about yourself, your team, the course?
          </legend>
          <textarea
            id="feelings"
            name="feelings"
            rows="3"
            placeholder="Share your thoughts and feelings..."
          ></textarea>
        </fieldset>

        <p class="wj-form-actions">
          <button type="submit" class="btn btn-primary wj-submit-btn">
            Submit Activity Log
          </button>
        </p>
      </form>
    </section>

    <!-- Previous Activity -->
    <section class="wj-card wj-previous" aria-label="Previous activity">
      <h2 class="wj-section-title">Previous Activity:</h2>

      <div id="entries">
        <p>Loading...</p>
      </div>
    </section>
  </main>

  <!-- Fixed right sidebar -->
  <aside class="wj-right" aria-label="Support options">
    <div class="help-box">
      <p>If you believe there's been an error, feel free to reach out:</p>
      <div class="contact-buttons">
        <button class="btn-contact" id="contact-ta">Contact TA</button>
        <button class="btn-contact" id="contact-instructor">Contact Instructor</button>
      </div>
    </div>
  </aside>

  <!-- SVG definitions for reusable icons -->
  <svg style="display: none;" aria-hidden="true">
    <defs>
      <symbol id="icon-calendar" viewBox="0 0 24 24">
        <rect x="3" y="4" width="18" height="17" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="1.6" />
        <line x1="3" y1="9" x2="21" y2="9" stroke="currentColor" stroke-width="1.6" />
        <line x1="8" y1="3" x2="8" y2="7" stroke="currentColor" stroke-width="1.6" />
        <line x1="16" y1="3" x2="16" y2="7" stroke="currentColor" stroke-width="1.6" />
      </symbol>
    </defs>
  </svg>

  <script src="/js/dashboard.service.js"></script>
  <script src="/js/palette-loader.js"></script>
  <script src="/js/sidebar-nav.js" defer></script>
  <script src="/js/colorblind-mode.js" defer></script>
  <script src="/journal.js"></script>
</body>
</html>

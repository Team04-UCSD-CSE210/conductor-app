<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Access Denied - Conductor</title>
  <link rel="stylesheet" href="/css/global.css">
  <link rel="stylesheet" href="/css/landing-page.css">
  <link rel="stylesheet" href="/css/blocked.css">
</head>
<body>
  <div class="access-denied-container">
    <div class="access-denied-header">
      <h1 class="access-denied-title">Access Denied</h1>
      <p class="access-denied-subtitle">
        You are not currently enrolled in this course.
      </p>
    </div>

    <div class="access-denied-warning">
      <h2>What does this mean?</h2>
      <p>
        Your account is not currently enrolled in the active course offering. To access this course, you must be added to the course roster by an instructor or administrator.
      </p>
      <p>
        <strong>Email:</strong> <span id="user-email"></span>
      </p>
    </div>

    <div class="access-denied-info">
      <h2>What should I do?</h2>
      <ol>
        <li>Contact your course instructor or administrator</li>
        <li>Provide them with your email address</li>
        <li>Request to be added to the course roster</li>
        <li>Once added, you will be able to log in and access the course</li>
      </ol>
    </div>

    <div class="access-denied-actions">
      <a href="/" class="home-btn">
        Back to Home Page
      </a>
    </div>
  </div>

  <script>
    // Get email from session or URL
    const email = new URLSearchParams(globalThis.location.search).get('email') || 
                  (globalThis.prefilledEmail || '');
    
    if (email) {
      document.getElementById('user-email').textContent = email;
    } else {
      // Try to get from session via server-side rendering
      const emailEl = document.getElementById('user-email');
      if (emailEl && globalThis.prefilledEmail) {
        emailEl.textContent = globalThis.prefilledEmail;
      } else {
        emailEl.textContent = 'Not available';
      }
    }
  </script>
</body>
</html>

